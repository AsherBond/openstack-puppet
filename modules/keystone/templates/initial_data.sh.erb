#!/bin/bash

# Tenants
keystone-manage $* tenant add admin
keystone-manage $* tenant add demo

# Users
keystone-manage $* user add demo secrete demo
keystone-manage $* user add admin secrete admin

# Roles
keystone-manage $* role add Admin
keystone-manage $* role add Member
keystone-manage $* role grant Admin admin

#endpointTemplates
keystone-manage $* baseURLs add RegionOne swift http://<%= api_vip %>:8080/v1/AUTH_%tenant_id% http://<%= api_vip %>:8080/ http://<%= api_vip %>:8080/v1/AUTH_%tenant_id% 1
keystone-manage $* baseURLs add RegionOne nova_compat http://<%= api_vip %>:8774/v1.0/ http://<%= api_vip %>:8774/v1.0  http://<%= api_vip %>:8774/v1.0 1
keystone-manage $* baseURLs add RegionOne nova http://<%= api_vip %>:8774/v1.1/ http://<%= api_vip %>:8774/v1.1  http://<%= api_vip %>:8774/v1.1 1
keystone-manage $* baseURLs add RegionOne glance http://<%= api_vip %>:9292/v1.1/%tenant_id% http://<%= api_vip %>:9292/v1.1/%tenant_id% http://<%= api_vip %>:9292/v1.1/%tenant_id% 1
keystone-manage $* baseURLs add RegionOne keystone http://<%= api_vip %>:8080/v2.0 http://<%= api_vip %>:8081/v2.0 http://<%= api_vip %>:8080/v2.0 1

# Tokens
keystone-manage $* token add 999888777666 admin admin 2015-02-05T00:00

#Tenant endpoints
keystone-manage $* tenant_baseURL add admin 1
keystone-manage $* tenant_baseURL add admin 2
keystone-manage $* tenant_baseURL add admin 3
keystone-manage $* tenant_baseURL add admin 4
keystone-manage $* tenant_baseURL add admin 5

keystone-manage $* tenant_baseURL add demo 1
keystone-manage $* tenant_baseURL add demo 2
keystone-manage $* tenant_baseURL add demo 3
keystone-manage $* tenant_baseURL add demo 4
keystone-manage $* tenant_baseURL add demo 5
